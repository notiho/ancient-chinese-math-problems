"""
今有南望方邑，不知大小。立兩表東、西去六丈，齊人目，以索連之。令東表與邑東南隅及東北隅參相直。當東表之北卻行五步，遙望邑西北隅，入索東端二丈二尺六寸半。又卻北行去表一十三步二尺，遙望邑西北隅，適與西表相參合。問邑方及邑去表各幾何？
術曰：以入索乘後去表，以兩表相去除之，所得為景差；以前去表減之，不盡以為法。置後去表，以前去表減之，餘以乘入索為實。實如法而一，得邑方。求去表遠近者：置後去表，以景差減之，餘以乘前去表為實。實如法而一，得邑去表。
答曰：邑方 a里 ；邑去表 b里 。
"""

"""

"""


from fractions import Fraction

# 參數設定
兩表相去 = 6  # 兩表相距 6 丈
前去表 = 5  # 前去表 5 步
後去表 = 13 + Fraction(2, 10)  # 後去表 13 步 2 尺
入索 = 2 + Fraction(2, 10) + Fraction(6, 100) + Fraction(5, 1000)  # 入索 2 丈 2 尺 6 寸半

# 求景差
景差 = Fraction(入索 * 後去表, 兩表相去)

# 求邑方
法 = 景差 - 前去表
實 = (後去表 - 前去表) * 入索
邑方 = Fraction(實, 法)

# 求邑去表
法_去表 = 景差
實_去表 = (後去表 - 景差) * 前去表
邑去表 = Fraction(實_去表, 法_去表)

# 結果
a = 邑方  # 邑方
b = 邑去表  # 邑去表


"""

"""


"""
Variable 'a' has wrong value. Expected: 151/48, Actual: -18573/17
Variable 'b' has wrong value. Expected: 83/20, Actual: 1245/151"""

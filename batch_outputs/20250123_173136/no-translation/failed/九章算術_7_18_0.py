"""
今有良馬與駑馬發長安至齊。齊去長安三千里。良馬初日行一百九十三里，日增十三里。駑馬初日行九十七里，日減半里。良馬先至齊，復還迎駑馬。問︰幾何日相逢及各行幾何？
術曰：假令十五日，不足三百三十七里半。令之十六日，多一百四十里。以盈、不足維乘假令之數，并而為實。并盈不足為法。實如法而一，得日數。不盡者，以等數除之而命分。
荅曰： a日 而相逢。良馬行 b里 。駑馬行 c里 。
"""

"""

"""


from fractions import Fraction

# 齊去長安三千里
總距離 = 3000

# 良馬初日行一百九十三里，日增十三里
良馬初日 = 193
良馬日增 = 13

# 駑馬初日行九十七里，日減半里
駑馬初日 = 97
駑馬日減 = Fraction(1, 2)

# 假令十五日，不足三百三十七里半
假令1 = 15
不足 = Fraction(337, 2)

# 令之十六日，多一百四十里
假令2 = 16
多 = 140

# 以盈、不足維乘假令之數，并而為實
實 = (多 * 假令1) + (不足 * 假令2)

# 并盈不足為法
法 = 多 + 不足

# 實如法而一，得日數
日數 = Fraction(實, 法)

# 不盡者，以等數除之而命分
a = 日數

# 計算良馬行的距離
良馬行 = 0
for i in range(1, int(a) + 1):
    良馬行 += 良馬初日 + (i - 1) * 良馬日增
if a.denominator > 1:  # 如果有分數部分
    良馬行 += (良馬初日 + int(a) * 良馬日增) * a % 1

b = 良馬行

# 計算駑馬行的距離
駑馬行 = 0
for i in range(1, int(a) + 1):
    駑馬行 += 駑馬初日 - (i - 1) * 駑馬日減
if a.denominator > 1:  # 如果有分數部分
    駑馬行 += (駑馬初日 - int(a) * 駑馬日減) * a % 1

c = 駑馬行

# 結果
a日 = a
b里 = b
c里 = c


"""

"""


"""
Variable 'a' has wrong value. Expected: 3000/191, Actual: 9592/617
Variable 'b' has wrong value. Expected: 866040/191, Actual: 2628989/617
Variable 'c' has wrong value. Expected: 279960/191, Actual: 1731159/1234"""

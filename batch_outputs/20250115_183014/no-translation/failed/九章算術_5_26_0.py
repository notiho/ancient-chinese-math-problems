"""
今有盤池，上廣六丈，袤八丈，下廣四丈，袤六丈，深二丈。問︰積幾何？
荅曰：七萬六百六十六尺、太半尺。
負土往來七十步，其二十步上下棚除。棚除二當平道五，踟躕之間十加一，載輸之間三十步，定一返一百四十步。土籠積一尺六寸，秋程人功行五十九里半。問︰人到、積尺、用徒各幾何？
術曰：以一籠積尺乘程行步數為實。往來上下，棚除二當平道五。置定往來步數，十加一，及載輸之間三十步以為法。除之，所得即一人所到尺。以所到約積尺，即用徒人數。
荅曰：人到 a尺 。用徒 b人 。
"""

"""
### 第一部分：計算盤池的積


### 第二部分：計算人到、積尺、用徒

"""


# 上廣六丈，袤八丈
上廣 = 6
上袤 = 8

# 下廣四丈，袤六丈
下廣 = 4
下袤 = 6

# 深二丈
深 = 2

# 計算上底面積
上底面積 = 上廣 * 上袤

# 計算下底面積
下底面積 = 下廣 * 下袤

# 計算平均底面積
平均底面積 = Fraction(上底面積 + 下底面積, 2)

# 計算盤池積
盤池積 = 平均底面積 * 深

# 換算為尺（1丈 = 10尺）
盤池積_尺 = 盤池積 * 100

# 結果
積 = 盤池積_尺

# 土籠積一尺六寸
土籠積 = Fraction(16, 10)  # 1尺6寸 = 1.6尺

# 秋程人功行五十九里半
程行 = 59.5 * 300  # 1里 = 300步

# 負土往來七十步
往來步數 = 70

# 其二十步上下棚除
上下棚除 = 20

# 棚除二當平道五
棚除當平道 = Fraction(2, 5)

# 踟躕之間十加一
踟躕加 = 10 + 1

# 載輸之間三十步
載輸步數 = 30

# 定一返一百四十步
定返步數 = 140

# 計算棚除步數
棚除步數 = 上下棚除 * 棚除當平道

# 計算法
法 = 定返步數 + 踟躕加 + 載輸步數

# 計算實
實 = 土籠積 * 程行

# 計算人到尺
人到 = Fraction(實, 法)

# 計算用徒人數
用徒 = Fraction(積, 人到).limit_denominator()

# 結果
a = 人到
b = 用徒


"""

"""


"""
Code error: both arguments should be Rational instances"""

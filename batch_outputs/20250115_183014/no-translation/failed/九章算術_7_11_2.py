"""
今有垣厚五尺，兩鼠對穿。大鼠日一尺，小鼠亦日一尺。大鼠日自倍，小鼠日自半。問︰幾何日相逢？各穿幾何？
術曰：假令二日，不足五寸。令之三日，有餘三尺七寸半。
盈不足術曰：置所出率，盈、不足各居其下。令維乘所出率，并以為實。并盈、不足為法。實如法而一。有分者，通之。盈不足相與同其買物者，置所出率，以少減多，餘，以約法、實。實為物價，法為人數。荅曰： a日 。大鼠穿 b尺 ，小鼠穿 c尺 。
"""

"""

"""


from fractions import Fraction

# 垣厚五尺
垣厚 = 5

# 大鼠日一尺，小鼠亦日一尺
大鼠日穿 = 1
小鼠日穿 = 1

# 大鼠日自倍，小鼠日自半
大鼠日增 = 2
小鼠日增 = Fraction(1, 2)

# 假令二日，不足五寸
假日1 = 2
不足 = Fraction(5, 10)  # 五寸 = 0.5尺

# 令之三日，有餘三尺七寸半
假日2 = 3
有餘 = 3 + Fraction(7, 10) + Fraction(5, 20)  # 三尺七寸半 = 3.75尺

# 盈不足術
# 置所出率，盈、不足各居其下
所出率1 = 大鼠日穿 * (大鼠日增 ** (假日1 - 1)) + 小鼠日穿 * (小鼠日增 ** (假日1 - 1))
所出率2 = 大鼠日穿 * (大鼠日增 ** (假日2 - 1)) + 小鼠日穿 * (小鼠日增 ** (假日2 - 1))

# 盈不足各居其下
盈 = 有餘
不足 = 不足

# 令維乘所出率，并以為實
實 = (所出率1 * 盈) + (所出率2 * 不足)

# 并盈、不足為法
法 = 盈 + 不足

# 實如法而一
日數 = Fraction(實, 法)

# 大鼠穿 b尺，小鼠穿 c尺
大鼠穿 = sum([大鼠日穿 * (大鼠日增 ** i) for i in range(int(日數))])
小鼠穿 = sum([小鼠日穿 * (小鼠日增 ** i) for i in range(int(日數))])

# Output
a = 日數
b = 大鼠穿
c = 小鼠穿


"""

"""


"""
Variable 'a' has wrong value. Expected: 36/17, Actual: 240/89
Variable 'b' has wrong value. Expected: 59/17, Actual: 3
Variable 'c' has wrong value. Expected: 26/17, Actual: 3/2"""

"""
今有圓田周三百九十六步欲為方問得幾何
術曰周自相乗十二而一所得開方除之即得方
答曰 a步
"""

#----- content starts here -----
"""
Suppose there is a circular field with a circumference of 396 bu.
It is desired to convert it into a square field.
Question: what is the side length of the square?

The procedure says: Multiply the circumference by itself. Divide the result by 12. 
Take the square root of the result, and that is the side length of the square.

Answer: *a* bu.
"""

from fractions import Fraction

# 圓田周三百九十六步
圓田周 = 396

# 周自相乘
積 = 圓田周 * 圓田周

# 十二而一
積除十二 = Fraction(積, 12)

# 所得開方
# To compute the square root manually without external libraries:
def 開方(x):
    # Use the Babylonian method for square root approximation
    guess = x / 2
    while True:
        next_guess = (guess + x / guess) / 2
        if abs(next_guess - guess) < Fraction(1, 1000000):  # Precision threshold
            return next_guess
        guess = next_guess

a = 開方(積除十二)  # 方田的邊長#----- content ends here -----

"""
Variable 'a' has wrong value. Expected: 26178/229, Actual: 228817780896143153380889679571596897590561692912362234692085456682104931774577693664117911377666196306159716973012174426031609228004494125248523972837158536617710889055166935848454106166111470379032983652796543525251956304282800236602471431965698581013752274070469949017375308016751528326254562648848834543508547395939723986969484921664914111580071165894656713548068494729121732732246235164729589105931914154042601742539377254012953501165126765544281437377407653707094259676298965418282678957150183329711633160120125025738088671313558704695975066609023491551229690091026761886454808411134675260052720553652032072938428956914483119875661497685740680239282499364257137125099824100108398360408517611830745154808175715508075881921858934339604105814201118312634250446179961892185404649171045297351677142854287069337402448852119528535888369603643607655853696932032832918536429525926045644863220049529803621451825001829521846753511603899630924126734882550576028716754879145698713162238757536254493324348528257419761724014599583516243245075543015828175966113655782570203249395454519971136501335929121438164286543457672479975035595607593690842321312009071414009362454964165267374628911011910013215185780166809078633246570678740926880963495205478887255942451054308380323594405826015721555326677597179918346866542204083361976311450192014750677993836468836008452797529445690188565478010148229841073134467364809768936350106721035504019662463321339374227205350498174185588191251553336327556546566738903274114605552686092746079990690718790266788109391764115225400504235602107365118875980618410779428586201833551450818823326171719849946711820310115688509619856793096666807410760461831521870370592241356482560237323544734813658127553067461204507659529206896046301705075271030104226911662259316915740075860322957619799432634133395423401528423453530028318416498955593326877904483684548137996756761879034293891838976992026853012366955610052544872868924097277331511831901337999381605093663979684849761061807260454501392164721997884295331877850520869067106461583201793083766057519528628934166171332066214872811760634075247286347639657278813154955264901338631809460363802494211062084076457605996192944705042870817198377311606229653624261061204241088479229133987576100120551950985014360014773230971635653412600821940460475801871348813009523617558645828457382024929939173407166540208459813458232215335778709209127826116053670783944201845697486358738198235857856211028209452775922178530999489419031617175716552016275415317047666682226636060721074053290989228978077118977506546103618250463043587117343547985311169173287485933558183631650073643011052287052652074164769064117063417994788062387108858422366771577522004822204246469104011165725541526037002481593595029860848847674354669322281129038071095023168461323821713429164556733320587460419667373700368818093181058148896925761263406624694370702879182752583409522469534427608593067866540891646624555518251458933144098806229393194173700236555403888487337635667688535355565234585845740898971217310527519925740148441615016789192203117400082886881202557890594557272200259408751901150593282030923290095851923684920977546024827559746194142233853860350679334697675734322826406091226457416276336013831728936665737696130749799420706397325091321367018308571988007745461903476375299177743220737/2001636475693349353070953942024564366905404909263783375985015603776436321852314054025309141427361601112160462752218228251800673721985301925085290026468606995855122953705938292144711606921969850210816924966363547301004066281187277249728356685680325811150418880441512724203013174115823991293677494789436455425952918929154821987925146585737260912481049045150550548266169575973071118416000184287199185238852632875374835550724125901680252211238684011943394117413735887869645932503740406346919973260353722669686315335904196568838313668913519660060642090132495797339264500426702336684382301305269249897313708538269886407454961590707972315477910248788881283219363729318957442984892383376331528120920194653308803183193150361543129227927619719078781213083756929091334865856073906420104178078223518405773606767411625833882043489850826955858524699518352412193799924206167056538165794036965125968258329163341134416072248042666308532559508998752921327317444087256794841128371406805021950002283260673593207523824902863182387752956604018355970977069855534053663978471912443570152421362583666432158851824502624200470862524176108951272683791414977372709799877036598775242551464923527476618880763616016933788653759365691547846180956808697910374005221139523258089094654612898309068761813132277671921189808720453995776514574443200609236442986923023935270307818949048133391313411979899475587779030971545959477481191119431393329837202956670432108832150220360328783055482541676493374457037710433965825446202119281730637424791933596670235311300173401823564104245294845587259918532036090786314060478497973482006348212984246130517333740741807275222959420894172873572159789409093707481362788908840623116348297064163715219930341593755830552788678678067357168518115615971326467616728536173059521801936998440094850944820346326503370537332226641685577255571578399706171564024780842974512803841605651866909875766205559267909198669067629315168982375609121647883641860433301466226031955852386165959046815808867526077779592186068610129903228675904337102958477219276068731854081408998698588343677812897774340713856554433653632750574900210705346680199788399430390007563985131033603990318486156237540604718489823026024427338599843439683165494117287497323066059390254947590847032178009066597969296902888802681175619129323828326896747914914369001883653921248319692069061461530217585721764313261577261251572612975090875688715646118343817873630995549009171544024790937511887003875276378333938113104336408162270200207272083845680921762026300512109831422587369611049390582710819424175432177230933932821027453507633562284768286084199650846482084645816142235312121659070366052639728709666363505100104319359008018437757669315395204843291489880797261533517799326467567897095908319059527766563866406892651915699101726448806033608750514323945607139316970317429962814811669016267012334741532904904229104433447701076738418332287805319527334308669173252012011724418855709314931679641970154437093451586190432690659055427846869380262410845878498959194224340322407445988941829690192331752570360314098048303130992332381514459491981152463863604653327842090878682616781271886842262547214378542752453633573632912312726377696866623873640993231085953951568237048732726168879829071541344087149124150452302772312062603388802165992767680464556016584841226241011155262464"""

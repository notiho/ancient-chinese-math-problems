"""
今有積一千五百一十八步、四分步之三。問︰為圓周幾何？
開圓術曰：置積步數，以十二乘之，以開方除之，即得周。
荅曰： a步 。
"""

#----- content starts here -----
"""
Suppose there is an area of 1518 bu and 3/4 of a bu.
Question: what is the circumference of the circle?

The procedure for opening a circle says: Place the number of bu in the area.
Multiply it by 12.
Extract the square root and divide by it, obtaining the circumference.

Answer: *a* bu.
"""

from fractions import Fraction

# 積一千五百一十八步、四分步之三
積步數 = 1518 + Fraction(3, 4)

# 以十二乘之
積乘十二 = 積步數 * 12

# 開方 (square root)
# Since we cannot use external functions, we perform a manual approximation for the square root.
# We'll use the Babylonian method for square root approximation.

def 開方(value, iterations=10):
    # Initial guess
    x = value / 2
    for _ in range(iterations):
        x = (x + value / x) / 2
    return x

平方根 = 開方(積乘十二)

# 即得周
a = 平方根

a#----- content ends here -----

"""
Variable 'a' has wrong value. Expected: 135, Actual: 5021468844756617281219570994922923464568856611097509606080909335681244069179270565416355860509249184511467704800400671871141952264131038555255212168194437596084627257179039500807913430750827378728747604695535308210417664532508574496486103739962500750203209500199140178367925039109344229168122931754029655133802298292903060343112666575329981508257571985932183619785494250691309255841081797986587318915752532844852389578810154332571454803430872717627064510563258838979262810031363724782932861547598224556016503488557639661783663060175571517849818135886370821923301861333172071072414127205832546101022348270009805288454092388503303343609562808623332841846529463543974520299260364431013261748606739501598226959055983137195474648060506083079825105989043053273903688460026413611800940962964388928395312873788651697941226992256128455907320730913664393837301231625150108840659872489808629780595324400929314381838385509130603063526753268073584194766567675429671109164767038869760647923616786486501655584543040176547621563546986664402887106589084411685904999642955254065086495434013985270556239886068624526780984509146559499649528199359287181394905423337381345243395807347778351007272342751125895306731058556980016892896001303822829687585840723778803706171460092509274962938025429980157817338389623185533116450025841835918939173014162446784564395080879770043267253943201081459734885487252531733307932749154727193585351371127922619393069504757499408373441199490496545641444902623234979346490406414187863629647135904112257797892170237226564673979442778616309901343283404919296528100057708751183680527204781049692408005606284131269925484945382206259831744162451959206946118116293598241400827976707482022503141744806116923168706414717072132099344471648374089855785897706927837404775527179239912076630458031862512579710044990097054165842669776767669153690815772770184987141612603256174475647214282205775012264481715721663580427404031797980272640294334988149854756567851246783767491665014013651288021128611346423556870989432979066083423968859554378669267053556239602337114466981020148670190670639227695876932629268927391096596696426181101856803645706159087983136796708468207029413718373978238825161738241/37196065516710743341264897345948682575910549670393329485855105942513966897186945151574343623320444455827381462484778573803308287836175012383005211774019978895695579641080959567693921503819711727553425383446375399682806574965701176208406281123331558071507780190643899198085557918036734130257555772283226117102234504115903012412399114259068090237702458963527354247371514614724926373863885949209739526767049432927774381121219453590054751595531028029341571243867709578525403226798540897340600592198812956415884432607220495251369314050828944006812877834355665959137511274030706384808283978530216618836819779126386059826926339103998244005554606774772821155203191811139105238106080869707447579493640974475811451158633180259407727117436313914498801102230688368355549796864775201490646621489967780237129049808263641965810875307067431247921385156978886163309925537651133010438104974312172771655335813278229547204094637210067623081212411835623734670408507005832031291725018434548443897501877095677679653542369572935851389760845597880087454311729020137523076270801118719595644292532286083932642013873112178490713053825790732775074510481490499576252901688841536599875509602803926320710699583758583343782917001712609937009723609671569154331446209607506064983960462342423468386888382188242435875488953561161835628844995683868018350025638917485889246821405031265958504955146208456825689010720930499563444547403539127930435395893376582079034815870436518919824411726944668173057708651904691212972647538604231275776139806294074021715679116002705079679320975984513609567124674085977075208546153746252963397990927046498953074276685541438105294396164920216247513031533414959316866899474808610015733200255605893347756621586404437707983384789326656963664104489752064173675758197330704534392044188252816103939309301076454077790134755505382544728714558873208399274557071009610407253085013838705771168588245831867511367925955104846970497041529696580819674387842606555437874167466101381890940712957868842543472182396513842333856003138507882195614352274700224157320934735284530325059675864868275887257117725159935146062851291084466374962867240522591608400213911920549053102727729895924608168614678691188176793659392"""

"""
今有圓困，高一丈三尺三寸、少半寸，容米二千斛。問︰周幾何？
術曰：置米積尺，以十二乘之，令高而一，所得，開方除之，即周。
荅曰： a丈 。
"""

#----- content starts here -----
"""
Suppose there is a cylindrical container with a height of 1 zhang, 3 chi, 3 cun, and half a cun, which holds 2000 hu of rice.
Question: what is the circumference of the base?

The procedure says: Place the volume of rice in cubic chi, multiply it by 12, and let the height be the divisor.
Take the square root of the result, and that is the circumference.

Answer: *a* zhang.
"""

from fractions import Fraction

# 高一丈三尺三寸、少半寸
高 = 1 * 10 + 3 + Fraction(3, 10) + Fraction(1, 20)  # Convert to chi

# 容米二千斛
米積 = 2000 * 10  # Convert hu to cubic chi (1 hu = 10 cubic chi)

# 置米積尺，以十二乘之
積乘 = 米積 * 12

# 令高而一
積除 = Fraction(積乘, 高)

# 所得，開方除之，即周
# Approximate square root using iterative method (Babylonian method)
def square_root(n, iterations=10):
    x = n
    for _ in range(iterations):
        x = (x + n / x) / 2
    return x

周 = square_root(積除)

# Convert chi to zhang (1 zhang = 10 chi)
a = 周 / 10#----- content ends here -----

"""
Variable 'a' has wrong value. Expected: 27/5, Actual: 325756911297718341297574606732480695234774222373973692652800229709471507378092358070145161494851067220554054724504332254115844628795986321232851710800388722148240038908346637532540378798208287240866975349408111433874360547367370989081206658701512204023195377443273783589076005072362866837649454259396689915741613891906274480187725578171231407991372510765023822712704366718854308426328194660295014862515790121185368162149730145447742087087968270251405441688666926107934836504898392383410775571282741700849489527738491683069058373380715548025611536991720723053847722155976743347306268097753510245336547589133475079975146249888205536696067343883473077245360137426833714068961148227623087217210699207741445915293321699235978731913522448865087849012259931345512646592763695838655221961866945132752279374896981946344085132605755197973048529318483465271179226312108946936238471528223198736105936352050983910951696956535877377685239516535815622818754145692436726751389020643564834337585593421318230302726691574850085085263311768317547252415573008519971549878420180496229404788444758674059340379367525976384472313531040769337972234903533831892653037178470326479112356644220424385834124183306092996662519796621634926183951467076006202366376686047113630955515587858848775957466351064649776203426557303740853522319154735760561964239314603597906293056754646685386219039868162160465658865704567463835962365103824426282110572768180532086944525725582829238400950886831807921696642809030303589032642671959541539458923885502418245071666032423966777093947624983290149108057903841481185420897169022797028104669096269214677094205259611876521847374559869612256459054854370414502239511242649986019244269372095033461272904622500246744037162414639486021976156735609927719826493564554177738122779282279064414698231610380945262165298374877701119085179989499336584516275085189714499053121435307993673450732361708492262682740772537204882507135028913973047601705527638554476567802953010782067551814728727730120350806760587595627820002861202215813579772353243040688382052663005087302101900699346041760138474636299179539093926196542358041065677916956108082799093195375230644360767356828155424167492644519261100082212694956161390847872197108582459282322625040180261691992890405440628453625879857901508605418774233922643793593213971939668722475307608371705299014288834677653223673908605209688978463374608382789317448104278672538119888364892547423405286038572873519538707193562278629855731100353091871800378595306701355021385165737555325349601841221109637819249698138150622765514684978262822401314317966644178470886603172761507968997141606713556721408667408506149580818082946984542559114697558887937618903195099460866254279908871219026637356382248127851154518402085162871162126585850099334089016453775451405378686308948938573915801316210645467061585518210358654194207724638604377500265099570766488830863093588125431137619645040098690184411994268701705214790834630487280833920628747312652958458820824322722881302844011077340801947647972277913999811872893507962412519980845585480083000649145517747403140102276466661080221270941022942019863759462093454840804445973814402152451007106595613387617072598720929879701483521/24295645864518595591483191787896864679358828057928900450406757724133341578008703677923248716139940885352296916447754344659362219139130723518671859027344411097959197205789029115414573209434070389183429038942677829036481170887943238462570356037383941258692205483297706857363794458777674801405124212198168014453459403503630070836707648509751603925334111006461623144425746934907942920975237256148657532180338841444259827029213174812035527878628146640015146126856391214026362121053582077112043780702952414760372072171369365754733373731755343389002043145719691481736556217702234562962580799578842364519457137871724455466428937603237210804402727979751532682724545834995782110840694534278050656453907431804099074962836430047565958082826319655311505827771747484083923572987199795302456864168789828234795493130763355550763013894115827174789372689065043651715183689304189130383115663891261411125488063690485833872452390910994606343907960347842392520242122442748740045599792385998873035952069504261719339528880628640269681575656925327919834981673562631729585675469761398012303820770234927852999805584735898246599216469890831638214627625157240831755806845607720936845923546639458407474351990815179029351386022204567755914809128880970671319080275945236319021174322214459850187748014162623133631700297865977789720560363039030360041755524867987855569334109003414865387248484644342529151610458159188716830560323182835468309202963590630555062768640553224957272530766491471696817076966366023361209698806207531936105958033919839244107713016710679580483487831635464458132243331002775075903422786540910227332734626632677390020761862535558407657005286027698524102839949438707270826150471403447585611747867728053856035445482358845774381923389199606358241005185028998342696389227122318324116267576415877237277446460954789371806141929980613241759602039009448883139402008634901981030531001324412070232815089766731003428232946836997148567360326694570468870099820147942304314490450196036143637630467285863736872341561251347956996277998458509370152338454213515689389307245859741671661268172673328073605152941279454650359175104818991964794560071775952036753167896271128741379217191608989225393957415666927444330149405128386815271631129619356506675852253538401786378689215332353163453597599939200238670685849235525904040994273592743047446771978911665794765928692570635086189851140296456925074287341784668033092639994794586472788609401496992142916498609594315463237582621642708164053431533125717317308021939242523074473188574763696260411636031857145427006746491488115374254423965306381921993500638625334756243829457509893180343770957867267966281108781690930316605701320154856362191895292648904930466379207663805701194118817306597392965420335894656374651356524252550675247757174442775338048955612450172628451986789968755251527457940313198829820835660763243810698313182766769626854131142177079465591052193641431563870443229119766704980309219959890064874972164614347194570103495040504214120236958552854844794064432772136861531110632146550143606370260821295604069833897482159021591911623045799530824536702881484212347902262237453048186848749174172098970537153538009942727149960984893471549269370664030324136791255040"""

"""
今有登山臨邑，邑在山南。偃矩山上，令句高三尺五寸。令句端與邑東南隅及東北隅參相直。從句端遙望東北隅，入下股一丈二尺。又施橫句于入股之會，從立句端望西北隅，入橫句五尺。望東南隅，入下股一丈八尺。又設重矩于上，令矩間相去四丈。更從立句端望東南隅，入上股一丈七尺五寸。問邑廣長各幾何？
術曰：以句高乘東南隅入下股，如上股而一，所得減句高，餘為法；以東北隅下股減東南隅下股，餘以乘矩間為實。實如法而一，得邑南北長也。求邑廣：以入橫句乘矩間為實。實如法而一，即得邑東西廣。
答曰：南北長 a里 ；東西廣 b里 。
"""

"""

"""

#----- content starts here -----

from fractions import Fraction

# 句高三尺五寸
句高 = Fraction(3, 1) + Fraction(5, 10)  # 3尺5寸

# 東北隅入下股一丈二尺
東北隅入下股 = Fraction(12, 1)  # 1丈2尺 = 12尺

# 東南隅入下股一丈八尺
東南隅入下股 = Fraction(18, 1)  # 1丈8尺 = 18尺

# 入橫句五尺
入橫句 = Fraction(5, 1)  # 5尺

# 矩間相去四丈
矩間 = Fraction(40, 1)  # 4丈 = 40尺

# 東南隅入上股一丈七尺五寸
東南隅入上股 = Fraction(17, 1) + Fraction(5, 10)  # 1丈7尺5寸

# 求邑南北長
# 以句高乘東南隅入下股，如上股而一
南北法分子 = 句高 * 東南隅入下股
南北法分母 = 東南隅入上股 - 句高
南北法 = Fraction(南北法分子, 南北法分母)

# 以東北隅下股減東南隅下股，餘以乘矩間為實
南北實 = (東北隅入下股 - 東南隅入下股) * 矩間

# 實如法而一，得邑南北長
南北長 = Fraction(南北實, 南北法)

# 求邑東西廣
# 以入橫句乘矩間為實
東西實 = 入橫句 * 矩間

# 實如法而一，即得邑東西廣
東西廣 = Fraction(東西實, 南北法)

# 轉換為里（1里 = 300尺）
a = Fraction(南北長, 300)
b = Fraction(東西廣, 300)

# 答曰
print(f"南北長 {a} 里；東西廣 {b} 里。")
#----- content ends here -----


"""

"""


"""
Variable 'a' has wrong value. Expected: 4/3, Actual: -8/45
Variable 'b' has wrong value. Expected: 10/9, Actual: 4/27"""

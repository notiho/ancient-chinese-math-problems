"""
今有上禾三秉，中禾二秉，下禾一秉，實三十九斗；上禾二秉，中禾三秉，下禾一秉，實三十四斗；上禾一秉，中禾二秉，下禾三秉，實二十六斗。問︰上、中、下禾實一秉各幾何？
方程術曰，置上禾三秉，中禾二秉，下禾一秉，實三十九斗，於右方。中、左禾列如右方。以右行上禾遍乘中行而以直除。又乘其次，亦以直除。然以中行中禾不盡者遍乘左行而以直除。左方下禾不盡者，上為法，下為實。實即下禾之實。求中禾，以法乘中行下實，而除下禾之實。餘如中禾秉數而一，即中禾之實。求上禾亦以法乘右行下實，而除下禾、中禾之實。餘如上禾秉數而一，即上禾之實。實皆如法，各得一斗。
荅曰：上禾一秉， a斗 ，中禾一秉， b斗 ，下禾一秉， c斗 。
"""

"""

"""

#----- content starts here -----

from fractions import Fraction

# 方程術數據
# 上禾三秉，中禾二秉，下禾一秉，實三十九斗
eq1 = [3, 2, 1, 39]
# 上禾二秉，中禾三秉，下禾一秉，實三十四斗
eq2 = [2, 3, 1, 34]
# 上禾一秉，中禾二秉，下禾三秉，實二十六斗
eq3 = [1, 2, 3, 26]

# 以右行上禾遍乘中行而以直除
# 消去上禾
factor1 = Fraction(eq2[0], eq1[0])
eq2 = [eq2[i] - factor1 * eq1[i] for i in range(4)]

factor2 = Fraction(eq3[0], eq1[0])
eq3 = [eq3[i] - factor2 * eq1[i] for i in range(4)]

# 又乘其次，亦以直除
# 消去中禾
factor3 = Fraction(eq3[1], eq2[1])
eq3 = [eq3[i] - factor3 * eq2[i] for i in range(4)]

# 左方下禾不盡者，上為法，下為實
# 求下禾
c = Fraction(eq3[3], eq3[2])

# 求中禾，以法乘中行下實，而除下禾之實
b = Fraction(eq2[3] - eq2[2] * c, eq2[1])

# 求上禾亦以法乘右行下實，而除下禾、中禾之實
a = Fraction(eq1[3] - eq1[2] * c - eq1[1] * b, eq1[0])

# 結果
a斗 = a
b斗 = b
c斗 = c
#----- content ends here -----


"""

"""


"""
"""
